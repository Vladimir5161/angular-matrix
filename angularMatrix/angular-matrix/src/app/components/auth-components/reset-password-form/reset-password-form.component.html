<div class="authForm">
  <div *ngIf="resetPasswordPage">
    <div *ngIf="emailVar.invalid && !!emailVar.value" >
      <div class="errorMess">email is not valid</div>
    </div>
    <div class="emailInput" [ngClass]="{
        error: emailVar.invalid && !!emailVar.value
        }">
      <label for="email">Enter your email </label>
      <input id="email" type="email"  class="emailInput" [(ngModel)]="email"  #emailVar="ngModel" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"/>
    </div>
    <button class="add-btn" type="submit"
            style="transform: translateY(20px)"
            [ngClass]="{notReady: emailVar.invalid}"
            style="display: block; margin: 20px auto"
            (click)="submitForm($event)" [disabled]="emailVar.invalid">{{"Reset password"}}</button>
  </div>
  <div *ngIf="!resetPasswordPage">
      <div class="errorMess">{{FormErrorService.getErrorMessage()}}</div>
    <form [formGroup]="resetPasswordGroup" >
      <div class="passwordInput" [ngClass]="{
        error: FormErrorService.errorMsg[ErrorEnum.password]
      }">
        <label for="password">Password </label>
        <input  id="password" type="{{visibilityPassword? 'text': 'password'}}" formControlName="password" (blur)="onInputValueChange()"/>
        <div *ngIf="visibilityPassword; then thenBlock else elseBlock" ></div>
        <ng-template #thenBlock><img  class="visibilityIcon" src="./assets/images/visibilityOn.svg" (click)="setVisibility('password')"/></ng-template>
        <ng-template #elseBlock><img  class="visibilityIcon" src="./assets/images/visibilityOff.svg" (click)="setVisibility('password')"/></ng-template>
      </div>
      <div class="passwordInput" [ngClass]="{
        error: FormErrorService.errorMsg[ErrorEnum.repeatPassword]
      }">
        <label for="repeatPassword">Repeat Password </label>
        <input  id="repeatPassword" type="{{visibilityPasswordRepeat? 'text': 'password'}}" formControlName="repeatPassword" (blur)="onInputValueChange()"/>
        <div *ngIf="visibilityPasswordRepeat; then thenBlock else elseBlock" ></div>
        <ng-template #thenBlock><img  class="visibilityIcon" src="./assets/images/visibilityOn.svg" (click)="setVisibility('repeatPassword')"/></ng-template>
        <ng-template #elseBlock><img  class="visibilityIcon" src="./assets/images/visibilityOff.svg" (click)="setVisibility('repeatPassword')"/></ng-template>
      </div>
      <button class="add-btn" type="submit"
              style="transform: translateY(20px)"
              [ngClass]="{notReady: FormErrorService.getErrorMessage() || !resetPasswordGroup.valid}"
              style="display: block; margin: 20px auto"
              (click)="submitForm($event)" [disabled]="FormErrorService.getErrorMessage() || !resetPasswordGroup.valid">
        {{resetPasswordPage? "Reset password" : "Request password change"}}</button>
    </form>
  </div>

</div>
